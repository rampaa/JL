<Window x:Class="JL.Windows.GUI.PreferencesWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:hc="https://handyorg.github.io/handycontrol"
        mc:Ignorable="d"
        Title="Preferences" Height="770" Width="800" Closed="Window_Closed"
        SizeToContent="Manual" ScrollViewer.CanContentScroll="True" ShowInTaskbar="False" Background="{DynamicResource RegionBrush}"
        x:ClassModifier="internal">
    <Grid>
        <Button Content="Cancel" HorizontalAlignment="Left" Margin="20,0,0,20"
                VerticalAlignment="Bottom" Click="CancelButton_Click" FontSize="16" Height="35" Width="85" />
        <Button Content="Save" HorizontalAlignment="Right" Margin="0,0,20,20"
                VerticalAlignment="Bottom" Width="85" Click="SaveButton_Click" FontSize="16" Height="35" />

        <TabControl TabStripPlacement="Top" VerticalContentAlignment="Stretch" Margin="0,0,0,65">
            <TabControl.Resources>
                <Style x:Key="AlternatingWithTriggers" TargetType="{x:Type ListBoxItem}">
                    <Style.Triggers>
                        <Trigger Property="ListBox.AlternationIndex" Value="0">
                            <Setter Property="Background" Value="{StaticResource SecondaryRegionBrush}"/>
                        </Trigger>
                    </Style.Triggers>
                    <Setter Property="Height" Value="35" />
                    <Setter Property="VerticalContentAlignment" Value="Center" />
                    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                    <Setter Property="VerticalAlignment" Value="Center" />
                    <Setter Property="HorizontalAlignment" Value="Stretch" />
                </Style>
            </TabControl.Resources>

            <TabItem Header="General">
                <ScrollViewer PanningMode="Both">
                    <StackPanel>
                        <ListBox AlternationCount="2" ItemContainerStyle="{StaticResource AlternatingWithTriggers}">
                            <ListBox.Template>
                                <ControlTemplate>
                                    <ItemsPresenter></ItemsPresenter>
                                </ControlTemplate>
                            </ListBox.Template>
                            
                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Profile"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <DockPanel HorizontalAlignment="Right">
                                        <ComboBox x:Name="ProfileComboBox" HorizontalAlignment="Left" VerticalAlignment="Center"
                                          SelectionChanged="ProfileComboBox_SelectionChanged" Width="207" />
                                        <Button Content="⚙️" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="5,0,0,0" Click="ProfileConfigButton_Click" />
                                    </DockPanel>
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Theme" Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <ComboBox x:Name="ThemeComboBox" HorizontalAlignment="Right"
                                      SelectedValuePath="Tag" Width="250">
                                        <ComboBoxItem Content="Dark" Tag="Dark" />
                                        <ComboBoxItem Content="Light (Blue)" Tag="Default" />
                                        <ComboBoxItem Content="Light (Violet)" Tag="Violet" />
                                    </ComboBox>
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Lookup mode" Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <ComboBox x:Name="LookupModeComboBox" HorizontalAlignment="Right"
                                      SelectedValuePath="Tag" Width="250">
                                        <ComboBoxItem Content="Mouse move" Tag="Hover" />
                                        <ComboBoxItem Content="Mouse click/Touch" Tag="Click" />
                                        <ComboBoxItem Content="Text select" Tag="Select" />
                                    </ComboBox>
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Lookup category" Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <ComboBox x:Name="LookupCategoryComboBox" HorizontalAlignment="Right"
                                      SelectedValuePath="Tag" Width="250">
                                        <ComboBoxItem Content="All" Tag="All" />
                                        <ComboBoxItem Content="Kanji Mode" Tag="Kanji" />
                                        <ComboBoxItem Content="Name Mode" Tag="Name" />
                                        <ComboBoxItem Content="Word Mode" Tag="Word" />
                                        <ComboBoxItem Content="Other" Tag="Other" />
                                    </ComboBox>
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                     Cursor="Help" ToolTip="Used only if the selected lookup mode is mouse move">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="&quot;Enable mining mode&quot; button"
                                       TextWrapping="Wrap" VerticalAlignment="Center"
                                       Style="{StaticResource TextBlockDefault}" />
                                    <ComboBox x:Name="MiningModeMouseButtonComboBox" HorizontalAlignment="Right"
                                      SelectedValuePath="Tag" Width="250">
                                        <ComboBoxItem Content="Left button" Tag="Left" />
                                        <ComboBoxItem Content="Middle button" Tag="Middle" />
                                        <ComboBoxItem Content="Back button" Tag="XButton1" />
                                        <ComboBoxItem Content="Forward button" Tag="XButton2" />
                                    </ComboBox>
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                     Cursor="Help" ToolTip="Used only if the selected lookup mode is mouse click/touch">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Lookup button"
                                       TextWrapping="Wrap" VerticalAlignment="Center"
                                       Style="{StaticResource TextBlockDefault}" />
                                    <ComboBox x:Name="LookupOnClickMouseButtonComboBox" HorizontalAlignment="Right" SelectedValuePath="Tag" Width="250">
                                        <ComboBoxItem Content="Left button" Tag="Left" />
                                        <ComboBoxItem Content="Middle button" Tag="Middle" />
                                        <ComboBoxItem Content="Back button" Tag="XButton1" />
                                        <ComboBoxItem Content="Forward button" Tag="XButton2" />
                                    </ComboBox>
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Lookup requires Lookup Key press"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <CheckBox x:Name="RequireLookupKeyPressCheckBox" HorizontalAlignment="Right" VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock Text="Lookup Key" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <TextBox x:Name="LookupKeyKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right"/>
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Highlight color"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <Button x:Name="HighlightColorButton"  HorizontalAlignment="Right"
                                    Width="60" Click="ShowColorPicker"
                                    BorderThickness="5,5,5,5" Height="32" BorderBrush="#FF707070" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Auto play audio"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center"/>
                                    <CheckBox x:Name="AutoPlayAudioCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                         Cursor="Help"
                                         ToolTip="If unchecked, JL will not steal the focus away from other windows, even in case of a mouse click.">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Focusable"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center"/>
                                    <CheckBox x:Name="FocusableCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                       Cursor="Help"
                                       ToolTip="Restores focus to the non-JL window that was previously active if focus was automatically taken by the &quot;Focus on hover&quot; or &quot;Focus on lookup&quot; option,
                                       &#10;when no popup is open and the mouse is no longer over the main window.
                                       &#10;Note that JL may need to attach itself to currently activated window's thread to do this, which could be seen as an intrusive action.
                                       &#10;Keep this in mind before enabling this option.">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Restore focus to previously active window"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <CheckBox x:Name="RestoreFocusToPreviouslyActiveWindowCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                       Cursor="Help"
                                       ToolTip="Ignored if lookup mode is set to text select">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Highlight the longest match"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <CheckBox x:Name="HighlightLongestMatchCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Auto check for updates"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <CheckBox x:Name="CheckForJLUpdatesOnStartUpCheckBox"
                                      HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>
                        </ListBox>

                        <Button x:Name="CheckForJLUpdatesButton" Content="Check for updates"
                                    Width="119" Height="32" HorizontalAlignment="Center" HorizontalContentAlignment="Center"
                                    Click="CheckForJLUpdatesButton_Click"  Margin="20,10,20,10" />
                        <TextBlock x:Name="JLVersionTextBlock" TextWrapping="Wrap" HorizontalAlignment="Left"
                                   Style="{StaticResource TextBlockDefault}"  Margin="20,10,20,10"
                                   VerticalAlignment="Bottom" />
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
            <TabItem Header="Main Window">
                <ScrollViewer PanningMode="Both">
                    <StackPanel>
                        <hc:TextBox x:Name="MainWindowPreferencesSearchTextBox" HorizontalAlignment="Center" Width="300" Height="35" TextWrapping="Wrap"
                                        hc:InfoElement.Placeholder="Search" Margin="5" TextChanged="MainWindowPreferencesSearchTextBox_TextChanged" />

                        <ListBox x:Name="MainWindowPreferencesListBox" AlternationCount="2" ItemContainerStyle="{StaticResource AlternatingWithTriggers}">
                            <ListBox.Template>
                                <ControlTemplate>
                                    <ItemsPresenter></ItemsPresenter>
                                </ControlTemplate>
                            </ListBox.Template>
                            
                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Font"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <ComboBox x:Name="MainWindowFontComboBox" HorizontalAlignment="Right"
                                      Width="210" SelectedValuePath="Content"
                                      ScrollViewer.HorizontalScrollBarVisibility="Auto"
                                      ScrollViewer.VerticalScrollBarVisibility="Auto" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Width"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="MainWindowWidthNumericUpDown" Minimum="1" DecimalPlaces="0"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Dynamic width"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <CheckBox x:Name="MainWindowDynamicWidthCheckBox" HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Max dynamic width"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="MainWindowMaxDynamicWidthNumericUpDown" Minimum="1"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Min dynamic width"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="MainWindowMinDynamicWidthNumericUpDown" Minimum="125"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                         Cursor="Help"
                                         ToolTip="Only takes effect if dynamic height is enabled">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Reposition window to the fixed right-edge position on text change"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <CheckBox x:Name="RepositionMainWindowOnTextChangeByRightPositionCheckBox" HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                       Cursor="Help"
                                       ToolTip="Specifies the right-edge position of the main window relative to the active screen's origin.
                                       &#10;This option takes effect only if the &quot;Reposition window to specified right position on text change&quot; option is enabled.
                                       &#10;When set to -2, the main window will be positioned at the right-edge of the screen.
                                       &#10;When set to -1, the main window will be positioned at the right-edge of the working area.
                                       &#10;When set to 0, the main window will be centered horizontally on the screen.
                                       &#10;Any other value sets the main window's right-edge at that specified number of pixels from the left-edge of the active screen.">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Fixed right-edge position"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="MainWindowFixedRightPositionNumericUpDown" Minimum="-2"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Height"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="MainWindowHeightNumericUpDown" Minimum="1" DecimalPlaces="0"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Dynamic height"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <CheckBox x:Name="MainWindowDynamicHeightCheckBox"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Max dynamic height"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="MainWindowMaxDynamicHeightNumericUpDown" Minimum="1"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Min dynamic height"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="MainWindowMinDynamicHeightNumericUpDown" Minimum="50"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                         Cursor="Help"
                                         ToolTip="Only takes effect if dynamic width is enabled">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Reposition window to the fixed bottom position on text change"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <CheckBox x:Name="RepositionMainWindowOnTextChangeByBottomPositionCheckBox" HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                       Cursor="Help"
                                       ToolTip="Specifies the bottom-edge position of the main window relative to the active screen's origin.
                                       &#10;This option takes effect only if the  &quot;Reposition window to specified bottom position on text change&quot; option is enabled.
                                       &#10;When set to -2, the main window will be positioned at the bottom of the screen.
                                       &#10;When set to -1, the main window will be positioned at the bottom of the working area.
                                       &#10;When set to 0, the main window will be centered vertically on the screen.
                                       &#10;Any other value sets the main window's bottom-edge at that specified number of pixels from the top of the active screen.">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Fixed bottom position"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="MainWindowFixedBottomPositionNumericUpDown" Minimum="-2"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Background color"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <Button x:Name="MainWindowBackgroundColorButton"  HorizontalAlignment="Right"
                                    Width="60" Click="ShowColorPicker"
                                    BorderThickness="5,5,5,5" Height="32" BorderBrush="#FF707070" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Text color"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <Button x:Name="TextBoxTextColorButton"  HorizontalAlignment="Right"
                                    Width="60" Height="32" BorderThickness="5,5,5,5"
                                    Click="ShowColorPicker" BorderBrush="#FF707070" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Backlog text color"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <Button x:Name="TextBoxBacklogTextColorButton"  HorizontalAlignment="Right"
                                    Width="60" Height="32" BorderThickness="5,5,5,5"
                                    Click="ShowColorPicker" BorderBrush="#FF707070" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Font size"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="TextBoxFontSizeNumericUpDown" Maximum="300" Minimum="1"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Opacity"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="MainWindowOpacityNumericUpDown" Maximum="100" Minimum="0.2" DecimalPlaces="1"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Center text horizontally"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <CheckBox x:Name="HorizontallyCenterMainWindowTextCheckBox"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Vertical text alignment" Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <ComboBox x:Name="MainWindowTextVerticalAlignmentComboBox" HorizontalAlignment="Right"
                                      SelectedValuePath="Tag" Width="Auto">
                                        <ComboBoxItem Content="Top" Tag="Top" />
                                        <ComboBoxItem Content="Center" Tag="Center" />
                                        <ComboBoxItem Content="Bottom" Tag="Bottom" />
                                    </ComboBox>
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Always on top"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <CheckBox x:Name="AlwaysOnTopCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Text only visible on hover"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <CheckBox x:Name="TextOnlyVisibleOnHoverCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Change opacity on unhover"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <CheckBox x:Name="ChangeMainWindowBackgroundOpacityOnUnhoverCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Opacity on unhover"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="MainWindowBackgroundOpacityOnUnhoverNumericUpDown" Maximum="100" Minimum="0.2" DecimalPlaces="1"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Hide all buttons when mouse is not over the title bar"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <CheckBox x:Name="ToggleHideAllTitleBarButtonsWhenMouseIsNotOverTitleBarCheckBox"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Enable WebSocket text capture"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <CheckBox x:Name="CaptureTextFromWebSocketCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="WebSocket server address" VerticalAlignment="Center" TextWrapping="Wrap" Style="{StaticResource TextBlockDefault}" />
                                    <TextBox x:Name="WebSocketUriTextBox" HorizontalAlignment="Right" Width="200" MaxHeight="60" TextWrapping="Wrap" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                       Cursor="Help"
                                       ToolTip="If this option is enabled, JL will *continuously* try connecting to the specified WebSocket">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Auto reconnect to WebSocket"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <CheckBox x:Name="AutoReconnectToWebSocketCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Enable clipboard text capture"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <CheckBox x:Name="CaptureTextFromClipboardCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Capture text from clipboard/WebSocket only if it has Japanese characters"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <CheckBox x:Name="OnlyCaptureTextWithJapaneseCharsCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                       Cursor="Help"
                                       ToolTip="When this option is enabled, new text found in the Clipboard/WebSocket that is identical to the current text in the main window will not be copied.">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Don't capture identical text from Clipboard/WebSocket"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <CheckBox x:Name="DiscardIdenticalTextCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                       Cursor="Help"
                                       ToolTip="If the new text found in Clipboard/WebSocket starts with the current text
                                       &#10;then the subsequent text is simply appended to the current text, instead of being copied as a new text.
                                       &#10;For example, if the current text is 我が and 我が妹よ is the next text found in Clipboard/WebSocket, 妹よ is appended to 我が.
                                       &#10;This is mainly useful when you feed JL with real-time generated text as it is being generated.
                                       &#10;It keeps the statistics accurate and prevents unwanted scroll up.">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Merge sequential texts when they match"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <CheckBox x:Name="MergeSequentialTextsWhenTheyMatchCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                       Cursor="Help"
                                       ToolTip="This option only takes effect if the &quot;Merge sequential texts when they match&quot; option is enabled.
                                       &#10;Enabling this option allows XYZ and ZTVR to be merged into XYZTVR, and XYZ and YZTVR will also be merged into XYZTVR.
                                       &#10;When this option is disabled, texts will only be merged if the new text found in Clipboard/WebSocket starts with the current text.
                                       &#10;For example, when this option is disabled, XYZ and YZTVR won't be merged, but XYZ and XYZTVR will be merged into XYZTVR.">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Allow partial text matches to be merged"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <CheckBox x:Name="AllowPartialMatchingForTextMergeCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                       Cursor="Help"
                                       ToolTip="Setting it to 0 removes the time constraint">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Max delay between copies to merge sequential texts when they match (in milliseconds)"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="MaxDelayBetweenCopiesForMergingMatchingSequentialTextsInMillisecondsNumericUpDown" Maximum="10000" Minimum="0" DecimalPlaces="0"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Disable lookups for non-Japanese characters"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <CheckBox x:Name="DisableLookupsForNonJapaneseCharsInMainWindowCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                       Cursor="Help"
                                       ToolTip="Attempts to steal focus from the currently active window on mouse hover.
                                       &#10;Note that JL may need to attach itself to currently activated window's thread to do this, which could be seen as an intrusive action.
                                       &#10;Keep that in mind before enabling this option.
                                       &#10;If &quot;Focusable&quot; is set to false, this option will have no effect." >
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Focus on hover"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <CheckBox x:Name="MainWindowFocusOnHoverCheckBox" HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Trim white-space characters"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <CheckBox x:Name="TextBoxTrimWhiteSpaceCharactersCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Remove newlines"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <CheckBox x:Name="TextBoxRemoveNewlinesCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Add shadow to text"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <CheckBox x:Name="TextBoxApplyDropShadowEffectCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Shadow color"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <Button x:Name="MainTextBoxDropShadowEffectColorButton"  HorizontalAlignment="Right"
                                    Width="60" Height="32" BorderThickness="5,5,5,5"
                                    Click="ShowColorPicker" BorderBrush="#FF707070" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Shadow depth"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="MainTextBoxDropShadowEffectShadowDepthNumericUpDown" Maximum="10" Minimum="0" DecimalPlaces="1"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Shadow blur radius"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="MainTextBoxDropShadowEffectBlurRadiusNumericUpDown" Maximum="100" Minimum="0" DecimalPlaces="0"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Shadow opacity"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="MainTextBoxDropShadowEffectBlurOpacityNumericUpDown" Maximum="100" Minimum="0" DecimalPlaces="0"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Shadow direction (in degrees)"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="MainTextBoxDropShadowEffectDirectionNumericUpDown" Maximum="360" Minimum="0" DecimalPlaces="0"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Text to speech on text change"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <CheckBox x:Name="TextToSpeechOnTextChangeCheckBox"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Hide popups on text change"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <CheckBox x:Name="HidePopupsOnTextChangeCheckBox"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Read only"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <CheckBox x:Name="TextBoxIsReadOnlyCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Always show caret"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <CheckBox x:Name="AlwaysShowMainTextBoxCaretCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                         Cursor="Help"
                                         ToolTip="Sets the maximum capacity of the backlog.
                                         &#10;Set to -1 for unlimited capacity.
                                         &#10;Set to 0 to disable the backlog.
                                         &#10;Set to a positive number to limit how many entries the backlog can store.">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Max backlog capacity"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="MaxBacklogCapacityNumericUpDown" Minimum="-1" DecimalPlaces="0"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                       Cursor="Help"
                                       ToolTip="Automatically saves the backlog to Backlogs folder before closing JL">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Auto save backlog before closing JL"
                                       TextWrapping="Wrap" VerticalAlignment="Center"
                                       Style="{StaticResource TextBlockDefault}" />
                                    <CheckBox x:Name="AutoSaveBacklogBeforeClosingCheckBox"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                       Cursor="Help"
                                       ToolTip="If enabled, scrolling up/down with mouse wheel show the items in backlog one by one.
                                       &#10;If disabled, scrolling up will show all the backlog at once.">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Show backlog items one by one (Mouse Wheel)"
                                       TextWrapping="Wrap" VerticalAlignment="Center"
                                       Style="{StaticResource TextBlockDefault}" />
                                    <CheckBox x:Name="SteppedBacklogWithMouseWheelCheckBox" HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                       Cursor="Help"
                                       ToolTip="If enabled, the main window will use the specified custom line height.
                                       &#10;If disabled, the line height will be determined automatically from the current font characteristics.
                                       &#10;Custom line height does not affect the height of the text; it changes the height of the line that contains the text.
                                       &#10;To change the size of the text, use the &quot;Font size&quot; option.
                                       &#10;If you enable this option, you may need to manually adjust the value of the &quot;Custom line height&quot; option each time you change the &quot;Font&quot; or &quot;Font size&quot; options.
                                       &#10;Therefore, enabling this option is *not* recommended.">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Use custom line height"
                                       TextWrapping="Wrap" VerticalAlignment="Center"
                                       Style="{StaticResource TextBlockDefault}" />
                                    <CheckBox x:Name="TextBoxUseCustomLineHeightCheckBox" HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Custom line height"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="TextBoxCustomLineHeightNumericUpDown" Minimum="1" Maximum="1000" DecimalPlaces="0"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>
                        </ListBox>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
            <TabItem Header="Popup" HorizontalAlignment="Left" Width="66">
                <ScrollViewer PanningMode="Both">
                    <StackPanel>
                        <hc:TextBox x:Name="PopupPreferencesSearchTextBox" HorizontalAlignment="Center" Width="300" Height="35" TextWrapping="Wrap"
                                        hc:InfoElement.Placeholder="Search" Margin="5" TextChanged="PopupPreferencesSearchTextBox_TextChanged" />

                        <ListBox x:Name="PopupPreferencesListBox" AlternationCount="2" ItemContainerStyle="{StaticResource AlternatingWithTriggers}">
                            <ListBox.Template>
                                <ControlTemplate>
                                    <ItemsPresenter></ItemsPresenter>
                                </ControlTemplate>
                            </ListBox.Template>
                            
                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Font"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <ComboBox x:Name="PopupFontComboBox" HorizontalAlignment="Right"
                                      Width="210" SelectedValuePath="Content" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Dynamic width"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <CheckBox x:Name="PopupDynamicWidthCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                       Cursor="Help"
                                       ToolTip="If &quot;Dynamic width&quot; option is disabled, this value is set as the popup's width">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Max width"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="PopupMaxWidthNumericUpDown" Minimum="1"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Min width"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="PopupMinWidthNumericUpDown" Minimum="0"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Dynamic height"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <CheckBox x:Name="PopupDynamicHeightCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                       Cursor="Help"
                                       ToolTip="If &quot;Dynamic height&quot; option is disabled, this value is set as the popup's height">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Max height"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="PopupMaxHeightNumericUpDown" Minimum="1"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Min height"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="PopupMinHeightNumericUpDown" Minimum="0"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Fixed positioning"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <CheckBox x:Name="FixedPopupPositioningCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                       Cursor="Help"
                                       ToolTip="&quot;Fixed positioning&quot; option must be enabled for this to take effect.
                                       &#10;When enabled, the &quot;Fixed X position&quot; option will be used to specify the right-edge position of the popup.
                                       &#10;When this option is enabled and &quot;Fixed X position&quot; is set to:
                                       &#10;-2, the popup will be positioned at the right-edge of the screen.
                                       &#10;-1, the popup will be positioned at the right-edge of the working area.
                                       &#10;0, the popup will be centered horizontally on the screen.
                                       &#10;Any other value: Sets the popup's right-edge at that specified number of pixels from the left-edge of the active screen.">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Fixed right-edge positioning"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <CheckBox x:Name="FixedPopupRightPositioningCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                         Cursor="Help"
                                         ToolTip="Only takes effect if fixed positioning is enabled.">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Fixed X position"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="FixedPopupXPositionNumericUpDown"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                       Cursor="Help"
                                       ToolTip="&quot;Fixed positioning&quot; option must be enabled for this to take effect.
                                       &#10;When enabled, the &quot;Fixed Y position&quot; option will be used to specify the bottom-edge position of the popup.
                                       &#10;When this option is enabled and &quot;Fixed Y position&quot; is set to:
                                       &#10;-2, the popup will be positioned at the bottom-edge of the screen.
                                       &#10;-1, the popup will be positioned at the bottom-edge of the working area.
                                       &#10;0, the popup will be centered vertically on the screen.
                                       &#10;Any other value: Sets the popup's bottom-edge at that specified number of pixels from the top-edge of the active screen.">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Fixed bottom-edge positioning"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <CheckBox x:Name="FixedPopupBottomPositioningCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                         Cursor="Help"
                                         ToolTip="Only takes effect if fixed positioning is enabled.">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Fixed Y position"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="FixedPopupYPositionNumericUpDown"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                       Cursor="Help"
                                       ToolTip="Attempt to set focus on the popup window when you mouse over text.
                                       &#10;Note that JL may need to attach itself to currently activated window's thread to do this, which could be seen as an intrusive action.
                                       &#10;Keep this in mind before enabling this option.
                                       &#10;If Focusable is set to false, this option will have no effect.">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Focus on lookup"
                                       TextWrapping="Wrap" VerticalAlignment="Center"
                                       Style="{StaticResource TextBlockDefault}" />
                                    <CheckBox x:Name="PopupFocusOnLookupCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Show dictionary tabs in mining mode"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <CheckBox x:Name="ShowDictionaryTabsInMiningModeCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Dictionary tab font size"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="PopupDictionaryTabFontSizeNumericUpDown" Maximum="100" Minimum="1" DecimalPlaces="0"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Hide dictionary tabs with no results"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <CheckBox x:Name="HideDictTabsWithNoResultsCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                       Cursor="Help"
                                       ToolTip="Auto hides the popup after the specified delay if mining mode is enabled and the cursor is not over the popup">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Auto hide popup if cursor is not over it"
                                       TextWrapping="Wrap" VerticalAlignment="Center"
                                       Style="{StaticResource TextBlockDefault}" />
                                    <CheckBox x:Name="AutoHidePopupIfMouseIsNotOverItCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Auto hide popup delay (in milliseconds)"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="AutoHidePopupIfMouseIsNotOverItDelayInMillisecondsNumericUpDown" Maximum="999999" Minimum="1" DecimalPlaces="0"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Disable lookups for non-Japanese characters"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <CheckBox x:Name="DisableLookupsForNonJapaneseCharsInPopupsCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Auto look up the first term when it's copied from the clipboard"
                                       TextWrapping="Wrap" VerticalAlignment="Center"
                                       Style="{StaticResource TextBlockDefault}" />
                                    <CheckBox x:Name="AutoLookupFirstTermWhenTextIsCopiedFromClipboardCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Auto look up the first term when it's copied from a WebSocket"
                                       TextWrapping="Wrap" VerticalAlignment="Center"
                                       Style="{StaticResource TextBlockDefault}" />
                                    <CheckBox x:Name="AutoLookupFirstTermWhenTextIsCopiedFromWebSocketCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Don't auto look up the first term on text change if Main Window is not minimized"
                                       TextWrapping="Wrap" VerticalAlignment="Center"
                                       Style="{StaticResource TextBlockDefault}" />
                                    <CheckBox x:Name="AutoLookupFirstTermOnTextChangeOnlyWhenMainWindowIsMinimizedCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Background color"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <Button x:Name="PopupBackgroundColorButton"  HorizontalAlignment="Right"
                                    Width="60" BorderThickness="5,5,5,5"
                                    Height="32" BorderBrush="#FF707070" Click="ShowColorPicker" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Opacity"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="PopupOpacityNumericUpDown" Maximum="100" Minimum="0.2" DecimalPlaces="1"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="X Offset"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="PopupXOffsetNumericUpDown" Maximum="100" Minimum="1"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Y Offset"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="PopupYOffsetNumericUpDown" Maximum="100" Minimum="1"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Popup position relative to cursor"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <ComboBox x:Name="PopupPositionRelativeToCursorComboBox" HorizontalAlignment="Right"
                                      SelectedValuePath="Tag">
                                        <ComboBoxItem Content="Top left" Tag="TopLeft" />
                                        <ComboBoxItem Content="Top right" Tag="TopRight" />
                                        <ComboBoxItem Content="Bottom left" Tag="BottomLeft" />
                                        <ComboBoxItem Content="Bottom right" Tag="BottomRight" />
                                    </ComboBox>
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Flip"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <ComboBox x:Name="PopupFlipComboBox" HorizontalAlignment="Right"
                                      SelectedValuePath="Content">
                                        <ComboBoxItem Content="X" />
                                        <ComboBoxItem Content="Y" />
                                        <ComboBoxItem Content="Both" />
                                    </ComboBox>
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                       Cursor="Help"
                                       ToolTip="Specifies the mouse button to use with the ➕ button, which will open a selection window to choose from the primary spelling and available readings.
                                       &#10;If no reading is available, the &quot;Selected Spelling&quot; field will be set to the primary spelling and the term will be mined.">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Mine button"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <ComboBox x:Name="MineMouseButtonComboBox" HorizontalAlignment="Right"
                                      SelectedValuePath="Tag" Width="250">
                                        <ComboBoxItem Content="Left button" Tag="Left" />
                                        <ComboBoxItem Content="Middle button" Tag="Middle" />
                                        <ComboBoxItem Content="Back button" Tag="XButton1" />
                                        <ComboBoxItem Content="Forward button" Tag="XButton2" />
                                    </ComboBox>
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                       Cursor="Help"
                                       ToolTip="Sets the value of the &quot;Selected Spelling&quot; field to the primary spelling and mines the term.
                                       &#10;Can be used to mine the term by clicking either the ➕ button or the Primary Spelling text box.
                                       &#10;When clicking the Primary Spelling text box, the &quot;Lookup button&quot; and &quot;'Enable mining mode' button&quot; will take precedence over this action.">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="&quot;Mine primary spelling&quot; button"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <ComboBox x:Name="MinePrimarySpellingMouseButtonComboBox" HorizontalAlignment="Right"
                                      SelectedValuePath="Tag" Width="250">
                                        <ComboBoxItem Content="Left button" Tag="Left" />
                                        <ComboBoxItem Content="Middle button" Tag="Middle" />
                                        <ComboBoxItem Content="Back button" Tag="XButton1" />
                                        <ComboBoxItem Content="Forward button" Tag="XButton2" />
                                    </ComboBox>
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Primary spelling color"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <Button x:Name="PrimarySpellingColorButton"  HorizontalAlignment="Right"
                                    Width="60" BorderThickness="5,5,5,5"
                                    Height="32" BorderBrush="#FF707070" Click="ShowColorPicker" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Primary spelling font size"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="PrimarySpellingFontSizeNumericUpDown" Maximum="500"
                                              Minimum="1"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Reading color"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <Button x:Name="ReadingsColorButton"  HorizontalAlignment="Right"
                                    Width="60" BorderThickness="5,5,5,5"
                                    Height="32" BorderBrush="#FF707070" Click="ShowColorPicker" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Reading font size"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="ReadingsFontSizeNumericUpDown" Maximum="100" Minimum="0"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Alternative spelling color"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <Button x:Name="AlternativeSpellingsColorButton"
                                    HorizontalAlignment="Right"
                                    Width="60" BorderThickness="5,5,5,5"
                                    Height="32" BorderBrush="#FF707070" Click="ShowColorPicker" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left"
                                       Text="Alternative spelling font size"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="AlternativeSpellingsFontSizeNumericUpDown" Maximum="500"
                                              Minimum="0"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Definition color" Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <Button x:Name="DefinitionsColorButton"  HorizontalAlignment="Right"
                                    Width="60" BorderThickness="5,5,5,5"
                                    Height="32" BorderBrush="#FF707070" Click="ShowColorPicker" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Definition font size"
                                       Style="{StaticResource TextBlockDefault}" TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="DefinitionsFontSizeNumericUpDown" Maximum="100"
                                              Minimum="1"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Frequency color"
                                       Style="{StaticResource TextBlockDefault}" TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <Button x:Name="FrequencyColorButton"  HorizontalAlignment="Right"
                                    Width="60" BorderThickness="5,5,5,5"
                                    Height="32" BorderBrush="#FF707070" Click="ShowColorPicker" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Frequency font size"
                                       Style="{StaticResource TextBlockDefault}" TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="FrequencyFontSizeNumericUpDown" Maximum="100" Minimum="1"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Deconjugation info color"
                                       Style="{StaticResource TextBlockDefault}" TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <Button x:Name="DeconjugationInfoColorButton"
                                    HorizontalAlignment="Right"
                                    Width="60" BorderThickness="5,5,5,5"
                                    Height="32" BorderBrush="#FF707070" Click="ShowColorPicker" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Deconjugation info font size"
                                       Style="{StaticResource TextBlockDefault}" TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="DeconjugationInfoFontSizeNumericUpDown" Maximum="100"
                                              Minimum="0"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Dictionary name color"
                                       Style="{StaticResource TextBlockDefault}" TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <Button x:Name="DictTypeColorButton"  HorizontalAlignment="Right"
                                    Width="60" BorderThickness="5,5,5,5"
                                    Height="32" BorderBrush="#FF707070" Click="ShowColorPicker" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Dictionary name font size"
                                       Style="{StaticResource TextBlockDefault}" TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="DictTypeFontSizeNumericUpDown" Maximum="100"
                                              Minimum="0"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Audio button color"
                                       Style="{StaticResource TextBlockDefault}" TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <Button x:Name="AudioButtonColorButton"  HorizontalAlignment="Right"
                                    Width="60" BorderThickness="5,5,5,5"
                                    Height="32" BorderBrush="#FF707070" Click="ShowColorPicker" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Audio button font size"
                                       Style="{StaticResource TextBlockDefault}" TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="AudioButtonFontSizeNumericUpDown" Maximum="100"
                                              Minimum="0"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Mining button color"
                                       Style="{StaticResource TextBlockDefault}" TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <Button x:Name="MiningButtonColorButton"  HorizontalAlignment="Right"
                                    Width="60" BorderThickness="5,5,5,5"
                                    Height="32" BorderBrush="#FF707070" Click="ShowColorPicker" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Mining button font size"
                                       Style="{StaticResource TextBlockDefault}" TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="MiningButtonFontSizeNumericUpDown" Maximum="100"
                                              Minimum="0"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Separator Color"
                                       Style="{StaticResource TextBlockDefault}" TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <Button x:Name="SeparatorColorButton"  HorizontalAlignment="Right"
                                    Width="60" BorderThickness="5,5,5,5"
                                    Height="32" BorderBrush="#FF707070" Click="ShowColorPicker" />
                                </DockPanel>
                            </ListBoxItem>
                        </ListBox>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
            <TabItem Header="Anki" Height="33" MouseUp="AnkiTabItem_MouseUp">
                <ScrollViewer PanningMode="Both">
                    <StackPanel>
                        <DockPanel Margin="18,0,18,0" Height="35">
                            <TextBlock HorizontalAlignment="Left" Text="Enable Anki integration" Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" TextWrapping="Wrap" />
                            <CheckBox x:Name="AnkiIntegrationCheckBox"  HorizontalAlignment="Right" />
                        </DockPanel>

                        <StackPanel IsEnabled="{Binding ElementName=AnkiIntegrationCheckBox,Path=IsChecked}">
                            <ListBox AlternationCount="2" ItemContainerStyle="{StaticResource AlternatingWithTriggers}">
                                <ListBox.Template>
                                    <ControlTemplate>
                                        <ItemsPresenter></ItemsPresenter>
                                    </ControlTemplate>
                                </ListBox.Template>
                                
                                <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                    <DockPanel Margin="10,0,10,0">
                                        <TextBlock HorizontalAlignment="Left" Text="AnkiConnect server address" Style="{StaticResource TextBlockDefault}"
                                           VerticalAlignment="Center" TextWrapping="Wrap" DockPanel.Dock="Left" />
                                        <Button Content="Apply" Width="Auto" VerticalAlignment="Center" FontSize="9" Height="26"
                                    Click="ApplyAnkiConnectUrlButton_Click" DockPanel.Dock="Right" />
                                        <TextBox x:Name="AnkiUriTextBox" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,5,0"
                                         TextWrapping="NoWrap" Width="210" DockPanel.Dock="Right" />
                                    </DockPanel>
                                </ListBoxItem>

                                <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                    <DockPanel Margin="10,0,10,0">
                                        <TextBlock HorizontalAlignment="Left" Text="Force sync after mining"
                                           Style="{StaticResource TextBlockDefault}" VerticalAlignment="Center" TextWrapping="Wrap" />
                                        <CheckBox x:Name="ForceSyncAnkiCheckBox"  HorizontalAlignment="Right" />
                                    </DockPanel>
                                </ListBoxItem>

                                <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                    <DockPanel Margin="10,0,10,0">
                                        <TextBlock HorizontalAlignment="Left" Text="Allow duplicate cards"
                                           Style="{StaticResource TextBlockDefault}" VerticalAlignment="Center" TextWrapping="Wrap" />
                                        <CheckBox x:Name="AllowDuplicateCardsCheckBox"  HorizontalAlignment="Right" />
                                    </DockPanel>
                                </ListBoxItem>

                                <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                             Cursor="Help"
                                             ToolTip="Checks Anki for Duplicate Expressions when entering Mining Mode">
                                    <DockPanel Margin="10,0,10,0">
                                        <TextBlock HorizontalAlignment="Left" Text="Check for duplicate cards"
                                            Style="{StaticResource TextBlockDefault}" VerticalAlignment="Center" TextWrapping="Wrap" />
                                        <CheckBox x:Name="CheckForDuplicateCardsCheckBox"  HorizontalAlignment="Right" />
                                    </DockPanel>
                                </ListBoxItem>
                            </ListBox>

                            <TabControl Margin="0,10,0,0">
                                <TabControl.Resources>
                                    <Style TargetType="{x:Type TabPanel}">
                                        <Setter Property="HorizontalAlignment" Value="Center" />
                                    </Style>
                                </TabControl.Resources>

                                <TabItem Header="Word">
                                    <StackPanel>
                                        <Grid Margin="10,10,10,10">
                                            <StackPanel Margin="10">
                                                <TextBlock HorizontalAlignment="Center" Text="Deck:"
                                                           Style="{StaticResource TextBlockDefault}" TextWrapping="Wrap" />
                                                <ComboBox x:Name="WordMiningSetupComboBoxDeckNames" Width="300" Margin="0,10,0,0" />
                                                <Button Click="MiningSetupButtonRefresh_Click"
                                                        Width="100"
                                                        Margin="0,10,25,0" HorizontalAlignment="Right" FontSize="16" Height="35">
                                                    Refresh
                                                </Button>
                                                <TextBlock HorizontalAlignment="Center" Text="Note Type:"
                                                           Style="{StaticResource TextBlockDefault}" TextWrapping="Wrap" />
                                                <ComboBox x:Name="WordMiningSetupComboBoxModelNames" Width="300" Margin="0,10,0,0" />

                                                <Separator Height="15" />

                                                <DockPanel HorizontalAlignment="Center">
                                                    <Button
                                                        Click="WordMiningSetupButtonGetFields_Click"
                                                        Width="150" Margin="5"
                                                        Content="Get Fields" FontSize="16" Height="35" />
                                                    <Button Name="WordInfoButton" Content="Info" Background="LightSlateGray" Width="50" Height="30" Margin="5" PreviewMouseLeftButtonUp="Button_PreviewMouseLeftButtonUp" />
                                                </DockPanel>

                                                <StackPanel x:Name="WordMiningSetupStackPanelFields" Margin="10" />

                                                <Separator Height="15" />

                                                <TextBlock HorizontalAlignment="Center" Text="Tags:"
                                                           Style="{StaticResource TextBlockDefault}" TextWrapping="Wrap" />
                                                <TextBox x:Name="WordTagsTextBox" TextWrapping="Wrap" Width="200" Margin="0,10,0,20"
                                                         Cursor="Help" ToolTip="Separated by a comma" />
                                            </StackPanel>
                                        </Grid>
                                    </StackPanel>
                                </TabItem>
                                <TabItem Header="Kanji">
                                    <StackPanel>
                                        <Grid Margin="10,10,10,10">
                                            <StackPanel Margin="10">
                                                <TextBlock HorizontalAlignment="Center" Text="Deck:"
                                                           Style="{StaticResource TextBlockDefault}" TextWrapping="Wrap" />
                                                <ComboBox x:Name="KanjiMiningSetupComboBoxDeckNames" Width="300" Margin="0,10,0,0" />
                                                <Button Click="MiningSetupButtonRefresh_Click"
                                                        Width="100"
                                                        Margin="0,10,25,0" HorizontalAlignment="Right" FontSize="16" Height="35">
                                                    Refresh
                                                </Button>
                                                <TextBlock HorizontalAlignment="Center" Text="Note Type:"
                                                           Style="{StaticResource TextBlockDefault}" TextWrapping="Wrap" />
                                                <ComboBox x:Name="KanjiMiningSetupComboBoxModelNames" Width="300" Margin="0,10,0,0" />

                                                <Separator Height="15" />

                                                <DockPanel HorizontalAlignment="Center">
                                                    <Button
                                                        Click="KanjiMiningSetupButtonGetFields_Click"
                                                        Width="150" Margin="5"
                                                        Content="Get Fields" FontSize="16" Height="35" />
                                                    <Button Name="KanjiInfoButton" Content="Info" Background="LightSlateGray" Width="50" Height="30" Margin="5" PreviewMouseLeftButtonUp="Button_PreviewMouseLeftButtonUp" />
                                                </DockPanel>

                                                <StackPanel x:Name="KanjiMiningSetupStackPanelFields" Margin="10" />

                                                <Separator Height="15" />

                                                <TextBlock HorizontalAlignment="Center" Text="Tags:"
                                                           Style="{StaticResource TextBlockDefault}" TextWrapping="Wrap" />
                                                <TextBox x:Name="KanjiTagsTextBox" TextWrapping="Wrap" Width="200" Margin="0,10,0,20"
                                                         Cursor="Help" ToolTip="Separated by a comma" />
                                            </StackPanel>
                                        </Grid>
                                    </StackPanel>
                                </TabItem>
                                <TabItem Header="Name">
                                    <StackPanel>
                                        <Grid Margin="10,10,10,10">
                                            <StackPanel Margin="10">
                                                <TextBlock HorizontalAlignment="Center" Text="Deck:"
                                                           Style="{StaticResource TextBlockDefault}" TextWrapping="Wrap" />
                                                <ComboBox x:Name="NameMiningSetupComboBoxDeckNames" Width="300" Margin="0,10,0,0" />
                                                <Button Click="MiningSetupButtonRefresh_Click"
                                                        Width="100"
                                                        Margin="0,10,25,0" HorizontalAlignment="Right" FontSize="16" Height="35">
                                                    Refresh
                                                </Button>
                                                <TextBlock HorizontalAlignment="Center" Text="Note Type:"
                                                           Style="{StaticResource TextBlockDefault}" TextWrapping="Wrap" />
                                                <ComboBox x:Name="NameMiningSetupComboBoxModelNames" Width="300" Margin="0,10,0,0" />

                                                <Separator Height="15" />

                                                <DockPanel HorizontalAlignment="Center">
                                                    <Button
                                                        Click="NameMiningSetupButtonGetFields_Click"
                                                        Width="150" Margin="5"
                                                        Content="Get Fields" FontSize="16" Height="35" />
                                                    <Button Name="NameInfoButton" Content="Info" Background="LightSlateGray" Width="50" Height="30" Margin="5" PreviewMouseLeftButtonUp="Button_PreviewMouseLeftButtonUp" />
                                                </DockPanel>

                                                <StackPanel x:Name="NameMiningSetupStackPanelFields" Margin="10" />

                                                <Separator Height="15" />

                                                <TextBlock HorizontalAlignment="Center" Text="Tags:"
                                                           Style="{StaticResource TextBlockDefault}" TextWrapping="Wrap" />
                                                <TextBox x:Name="NameTagsTextBox" TextWrapping="Wrap" Width="200" Margin="0,10,0,20"
                                                         Cursor="Help" ToolTip="Separated by a comma" />
                                            </StackPanel>
                                        </Grid>
                                    </StackPanel>
                                </TabItem>
                                <TabItem Header="Other">
                                    <StackPanel>
                                        <Grid Margin="10,10,10,10">
                                            <StackPanel Margin="10">
                                                <TextBlock HorizontalAlignment="Center" Text="Deck:"
                                                           Style="{StaticResource TextBlockDefault}" TextWrapping="Wrap" />
                                                <ComboBox x:Name="OtherMiningSetupComboBoxDeckNames" Width="300" Margin="0,10,0,0" />
                                                <Button Click="MiningSetupButtonRefresh_Click"
                                                        Width="100"
                                                        Margin="0,10,25,0" HorizontalAlignment="Right" FontSize="16" Height="35">
                                                    Refresh
                                                </Button>
                                                <TextBlock HorizontalAlignment="Center" Text="Note Type:"
                                                           Style="{StaticResource TextBlockDefault}" TextWrapping="Wrap" />
                                                <ComboBox x:Name="OtherMiningSetupComboBoxModelNames" Width="300" Margin="0,10,0,0" />

                                                <Separator Height="15" />

                                                <DockPanel HorizontalAlignment="Center">
                                                    <Button
                                                        Click="OtherMiningSetupButtonGetFields_Click"
                                                        Width="150" Margin="5"
                                                        Content="Get Fields" FontSize="16" Height="35" />
                                                    <Button Name="OtherInfoButton" Content="Info" Background="LightSlateGray" Width="50" Height="30" Margin="5" PreviewMouseLeftButtonUp="Button_PreviewMouseLeftButtonUp" />
                                                </DockPanel>

                                                <StackPanel x:Name="OtherMiningSetupStackPanelFields" Margin="10" />

                                                <Separator Height="15" />

                                                <TextBlock HorizontalAlignment="Center" Text="Tags:"
                                                           Style="{StaticResource TextBlockDefault}" TextWrapping="Wrap" />
                                                <TextBox x:Name="OtherTagsTextBox" TextWrapping="Wrap" Width="200" Margin="0,10,0,20"
                                                         Cursor="Help" ToolTip="Separated by a comma" />
                                            </StackPanel>
                                        </Grid>
                                    </StackPanel>
                                </TabItem>
                            </TabControl>
                        </StackPanel>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
            <TabItem Header="Hotkeys">
                <ScrollViewer PanningMode="Both">
                    <StackPanel Name="HotKeysStackPanel">
                        <hc:TextBox x:Name="HotkeysPreferencesSearchTextBox" HorizontalAlignment="Center" Width="300" Height="35" TextWrapping="Wrap"
                                        hc:InfoElement.Placeholder="Search" Margin="5" TextChanged="HotkeysPreferencesSearchTextBox_TextChanged" />

                        <ListBox x:Name="HotkeysPreferencesListBox" AlternationCount="2" ItemContainerStyle="{StaticResource AlternatingWithTriggers}">
                            <ListBox.Template>
                                <ControlTemplate>
                                    <ItemsPresenter></ItemsPresenter>
                                </ControlTemplate>
                            </ListBox.Template>
                            
                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="DisableHotkeysKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Toggle disable hotkeys option" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       Cursor="Help" VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="ClosePopupKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Close popup" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="ToggleMinimizedStateKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Minimize/Restore the main window" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="MiningModeKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Mining mode" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="ReconnectToWebSocketServerKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Reconnect to WebSocket" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="PlayAudioKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Play audio for the first reading" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="ClickAudioButtonKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Click audio button hotkey" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="ClickMiningButtonKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Click mining button hotkey" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="SelectedTextToSpeechTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Selected text to speech" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="ShowAddNameWindowKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Add name" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="ShowAddWordWindowKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Add word" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="SearchWithBrowserKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Search" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="SteppedBacklogBackwardsKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Move backwards (Backlog)" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="SteppedBacklogForwardsKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Move forward (Backlog)" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                         Cursor="Help"
                                         ToolTip="Toggles between &quot;Kanji mode&quot; and &quot;All&quot;">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="KanjiModeKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Kanji mode" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                         Cursor="Help"
                                         ToolTip="Toggles between &quot;Name mode&quot; and &quot;All&quot;">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="NameModeKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Name mode" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                         Cursor="Help"
                                         ToolTip="Toggles between &quot;Word mode&quot; and &quot;All&quot;">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="WordModeKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Word mode" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                         Cursor="Help"
                                         ToolTip="Toggles between &quot;Other mode&quot; and &quot;All&quot;">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="OtherModeKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Other mode" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="AllModeKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Set &quot;Lookup Category&quot; to All" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="InactiveLookupModeKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Toggle lookup" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                     Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="MousePassThroughModeKeyGestureTextBox"
                                      PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                      HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Toggle mouse pass-through mode" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="PreviousDictKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Previous dictionary" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="NextDictKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Next dictionary" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="ToggleVisibilityOfDictionaryTabsInMiningModeKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Toggle visibility of dictionary tabs" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="AlwaysOnTopKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Toggle always on top" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="CaptureTextFromClipboardKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Toggle capture text from clipboard option" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="CaptureTextFromWebSocketKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Toggle capture text from WebSocket option" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                       Cursor="Help"
                                       ToolTip="Delete the currently shown line from the main window.
                                       &#10;Line and character count stats will be updated accordingly.">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="DeleteCurrentLineKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Delete the currently shown line" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center"/>
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="ToggleAlwaysShowMainTextBoxCaretKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Toggle always show caret option" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="MoveCaretLeftKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Move caret left" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="MoveCaretRightKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Move caret right" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="MoveCaretUpKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Move caret up" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="MoveCaretDownKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Move caret down" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="LookupTermAtCaretIndexKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Look up the term at the caret index" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="LookupFirstTermKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Look up the first term" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="LookupSelectedTextKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Look up the selected text" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                       Cursor="Help"
                                       ToolTip="Selects the next item based on the active window.
                                       &#10;If the reading selection window for audio is open, it selects the next reading.
                                       &#10;If the spelling selection window for mining is open, it selects the next spelling.
                                       &#10;If neither of those windows are open, but a popup is open in mining mode, it selects the next lookup result">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="SelectNextItemKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Select next item"
                                       TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                       Cursor="Help"
                                       ToolTip="Selects the previous item based on the active window.
                                       &#10;If the reading selection window for audio is open, it selects the previous reading.
                                       &#10;If the spelling selection window for mining is open, it selects the previous spelling.
                                       &#10;If neither of those windows are open, but a popup is open in mining mode, it selects the previous lookup result">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="SelectPreviousItemKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Select previous item"
                                       TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                       Cursor="Help"
                                       ToolTip="Interacts with the selected item based on the active window.
                                       &#10;If the reading selection window for audio is open, it plays the selected reading.
                                       &#10;If the spelling selection window for mining is open, it mines the selected spelling.
                                       &#10;If neither of those windows are open, but a popup is open in mining mode, it mines the selected entry using its primary spelling.">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="ConfirmItemSelectionKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Confirm selected item"
                                       TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                     Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="ShowManageDictionariesWindowKeyGestureTextBox"
                                      PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                      HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Open manage dictionaries window" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                     Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="ShowManageFrequenciesWindowKeyGestureTextBox"
                                      PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                      HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Open manage frequencies window" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                     Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="ShowManageAudioSourcesWindowKeyGestureTextBox"
                                      PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                      HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Open manage audio sources window" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                     Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="ShowPreferencesWindowKeyGestureTextBox"
                                      PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                      HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Open preferences window" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="ShowStatsKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Show stats" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="TextBoxIsReadOnlyKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="Toggle read only option" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <Button Content="Clear" Width="Auto" DockPanel.Dock="Right" FontSize="9"
                                    Click="ClearKeyGestureButton_Click" />
                                    <TextBox x:Name="MotivationKeyGestureTextBox"
                                     PreviewKeyDown="KeyGestureToText" CaretBrush="#00000000" Width="250"
                                     HorizontalAlignment="Right" DockPanel.Dock="Right" Margin="0,0,5,0" />
                                    <TextBlock Text="???" TextWrapping="Wrap" HorizontalAlignment="Left"
                                       Style="{StaticResource TextBlockDefault}"
                                       VerticalAlignment="Center" />
                                </DockPanel>
                            </ListBoxItem>
                        </ListBox>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
            <TabItem Header="Advanced">
                <ScrollViewer PanningMode="Both">
                    <StackPanel>
                        <ListBox AlternationCount="2" ItemContainerStyle="{StaticResource AlternatingWithTriggers}">
                            <ListBox.Template>
                                <ControlTemplate>
                                    <ItemsPresenter></ItemsPresenter>
                                </ControlTemplate>
                            </ListBox.Template>
                            
                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Maximum Search Length"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" />
                                    <hc:NumericUpDown x:Name="MaxSearchLengthNumericUpDown" Maximum="250" Minimum="1"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                       Cursor="Help"
                                       ToolTip="Setting it to a small number improves the lookup performance for the mouse move lookup mode">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Max number of results when not in mining mode"
                                       TextWrapping="Wrap" VerticalAlignment="Center"
                                       Style="{StaticResource TextBlockDefault}" />
                                    <hc:NumericUpDown x:Name="MaxNumResultsNotInMiningModeNumericUpDown" Maximum="100"
                                              Minimum="1"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                         Cursor="Help"
                                         ToolTip="Disables hotkeys except for 'Toggle disable hotkeys option' hotkey">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Disable hotkeys"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center"/>
                                    <CheckBox x:Name="DisableHotkeysCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                       Cursor="Help"
                                       ToolTip="Enable global hotkeys. This allows hotkeys to be used even when JL doesn't have the focus.
                                       &#10;Only hotkeys with modifiers (e.g. Alt+T), function keys (except for F12) and numpad keys can be used as global hotkeys.
                                       &#10;Hotkeys without modifiers will not work if a window that has a higher integrity level than JL has the focus.
                                       &#10;To mitigate this you can give JL the UI Access privilege.">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Global hotkeys"
                                       TextWrapping="Wrap"
                                       Style="{StaticResource TextBlockDefault}" />
                                    <CheckBox x:Name="GlobalHotKeysCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Track the lookup count of each term"
                                       TextWrapping="Wrap"
                                       Style="{StaticResource TextBlockDefault}" />
                                    <CheckBox x:Name="TrackTermLookupCountsCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                       Cursor="Help"
                                       ToolTip="This option sets the minimum reading speed (in characters per minute) required to continue increasing the time stat.
                                       &#10;If the reading speed for the last captured text drops below this value, JL will consider the user idle
                                       &#10;and stop increasing the time stat until a new text is captured.
                                       &#10;The lower this value, the more time you have to read before being considered idle.
                                       &#10;Set it to your slowest possible reading speed, NOT to your average speed.">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Minimum reading speed to keep time stat increasing (in Characters Per Minute)"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <hc:NumericUpDown x:Name="MinCharactersPerMinuteBeforeStoppingTimeTrackingNumericUpDown" Maximum="5000" Minimum="0" DecimalPlaces="0"
                                              HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Stop increasing time and read character stats when minimized"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" />
                                    <CheckBox x:Name="StopIncreasingTimeAndCharStatsWhenMinimizedCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Strip punctuation before calculating character count"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" />
                                    <CheckBox x:Name="StripPunctuationBeforeCalculatingCharacterCountCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Notify when mining succeeds"
                                           Style="{StaticResource TextBlockDefault}" VerticalAlignment="Center" TextWrapping="Wrap" />
                                    <CheckBox x:Name="NotifyWhenMiningSucceedsCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                       Cursor="Help"
                                       ToolTip="If set to true, instead of mining the term as an Anki card it will be mined to
                                       &#10;Resources/mined_words.txt or Resources/names.txt or Resources/kanjis.txt or Resources/others.txt
                                       &#10;depending on the dictionary type">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Mine to file instead of Anki"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap"/>
                                    <CheckBox x:Name="MineToFileInsteadOfAnkiCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Automatically adjust font sizes on resolution change"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <CheckBox x:Name="AutoAdjustFontSizesOnResolutionChangeCheckBox"  HorizontalAlignment="Right" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                       Cursor="Help"
                                       ToolTip="The path of the browser that will be used by the search functionality, without quotes.
                                       &#10;Leave blank to use the default browser.">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Browser path" VerticalAlignment="Center" TextWrapping="Wrap"
                                       Style="{StaticResource TextBlockDefault}"/>
                                    <hc:TextBox x:Name="BrowserPathTextBox" HorizontalAlignment="Right" Width="300" MaxHeight="60" TextWrapping="Wrap"
                                        hc:InfoElement.Placeholder="Default browser" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp"
                                       Cursor="Help"
                                       ToolTip="The {SearchTerm} marker will be replaced with the text selected for searching">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left"
                                       Text="Search URL"
                                       VerticalAlignment="Center"
                                       TextWrapping="Wrap"
                                       Style="{StaticResource TextBlockDefault}" />
                                    <TextBox x:Name="SearchUrlTextBox" HorizontalAlignment="Right" Width="300" MaxHeight="60" TextWrapping="NoWrap" />
                                </DockPanel>
                            </ListBoxItem>

                            <ListBoxItem PreviewMouseUp="ListBoxItem_PreviewMouseUp">
                                <DockPanel Margin="10,0,10,0">
                                    <TextBlock HorizontalAlignment="Left" Text="Minimum Log Level"
                                       Style="{StaticResource TextBlockDefault}"
                                       TextWrapping="Wrap" VerticalAlignment="Center" />
                                    <ComboBox x:Name="MinimumLogLevelComboBox" HorizontalAlignment="Right"
                                      Width="250" SelectedValuePath="Content">
                                        <ComboBoxItem Content="Fatal" />
                                        <ComboBoxItem Content="Error" />
                                        <ComboBoxItem Content="Warning" />
                                        <ComboBoxItem Content="Information" />
                                        <ComboBoxItem Content="Debug" />
                                        <ComboBoxItem Content="Verbose" />
                                    </ComboBox>
                                </DockPanel>
                            </ListBoxItem>
                        </ListBox>

                        <Button x:Name="ResetPreferencesButton" Content="Reset preferences" Margin="10"
                                    HorizontalAlignment="Center" Click="ResetPreferencesButton_Click" />
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
        </TabControl>
    </Grid>
</Window>
